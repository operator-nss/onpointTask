(()=>{"use strict";window.addEventListener("load",(function(e){let t,n,o,l,s,r=document.querySelector(".slider__wrapper"),c=window.getComputedStyle(r).width,i=0,d=0,a=[];function u(){a=[],t=0,n=0}const p=document.querySelectorAll(".slider__slide"),m=document.querySelector(".menu__home-link"),h=document.querySelector(".slider__inner"),y=document.querySelector(".mainblock__button");function f(){m.addEventListener("click",(e=>{e.preventDefault(),h.style.transform="translateX(0px)",i=0,u()}))}h.style.width=100*p.length+"%",h.style.display="flex",h.style.transition="0.7s all",r.style.overflow="hidden",p.forEach((e=>{e.style.width=c})),f(),y.addEventListener("click",(e=>{e.preventDefault(),i-=+c.slice(0,c.length-2),u(),h.style.transform=`translateX(${i}px)`,_()})),document.addEventListener("mousedown",(e=>{l=e.clientX,document.addEventListener("mousemove",g)}));let g=function(e){f(),s=e.clientX,o=s-l,o<-300?(o=0,i==+c.slice(0,c.length-2)*(p.length-1)||(i+=+c.slice(0,c.length-2)),h.style.transform=`translateX(-${i}px)`,document.removeEventListener("mousemove",g)):o>300&&(console.log(o),0==i?i=0:(i-=+c.slice(0,c.length-2),u()),h.style.transform=`translateX(-${i}px)`,document.removeEventListener("mousemove",g))};function v(e){d=e.changedTouches[0].pageX,a.push(d),t=a[0],n=a[a.length-1],f(),function(e,t){t-e>300?(0==i?i=0:(i-=+c.slice(0,c.length-2),u()),h.style.transform=`translateX(-${i}px)`,_()):e-t>300&&(i==+c.slice(0,c.length-2)*(p.length-1)||(i+=+c.slice(0,c.length-2),u()),h.style.transform=`translateX(-${i}px)`,_())}(t,n)}function _(){r.removeEventListener("touchmove",v),setTimeout((()=>{r.addEventListener("touchmove",v)}),500)}document.addEventListener("mouseup",(()=>{document.removeEventListener("mousemove",g)})),r.addEventListener("touchmove",v),window.addEventListener("resize",(function(){c=window.getComputedStyle(r).width,p.forEach((e=>{e.style.width=c}))}))}));const e=document.querySelector(".body-textblock__scrollbar"),t=document.querySelector(".body-textblock"),n=document.querySelector(".body-textblock__text"),o=document.querySelector(".textblock__body");let l,s=1.7*t.clientHeight;n.addEventListener("scroll",(function(o){e.style.top=s*n.scrollTop/n.scrollHeight+"px",e.style.height=t.clientHeight*n.clientHeight/n.scrollHeight/2+"px"}));let r,c=new Event("scroll");window.addEventListener("resize",n.dispatchEvent.bind(n,c)),n.dispatchEvent(c),e.addEventListener("mousedown",(function(t){t.preventDefault();let l=e.offsetTop,r=function(o){let r=o.pageY-t.pageY;e.style.top=Math.min(s-e.clientHeight,Math.max(0,l+r))+"px",n.scrollTop=n.scrollHeight*e.offsetTop/s};o.addEventListener("mousemove",r),o.addEventListener("mouseup",(function(){o.removeEventListener("mousemove",r)}))})),o.addEventListener("touchstart",(()=>{o.addEventListener("touchmove",(function t(c){r=Math.round(e.style.top.slice(0,-2)),l=c.touches[0].screenY,r<0?(e.style.top="0px",r=0):r>=288?(r=287,e.style.top="287px",o.addEventListener("touchmove",t)):e.style.top=l-n.scrollHeight+100+"px";n.scrollTop=n.scrollHeight*e.offsetTop/s}))}));const i=document.querySelector(".item-brend__button"),d=document.querySelector(".brend__popup"),a=document.querySelector(".popup__close"),u=document.documentElement;function p(){u.classList.contains("lock")&&(d.classList.remove("popup__show"),u.classList.remove("lock"))}i.addEventListener("click",(function(e){e.preventDefault(),d.classList.add("popup__show"),u.classList.add("lock")})),a.addEventListener("click",(()=>{p()})),document.addEventListener("click",(function(e){!u.classList.contains("lock")||e.target.closest(".popup")||e.target.closest(".item-brend__button")||p()})),window.addEventListener("DOMContentLoaded",(function(){if(document.querySelector(".popup__slider")){let e=0,t=1;const n=document.querySelectorAll(".popup__list"),o=document.querySelector(".popup__slider"),l=document.querySelector(".slider-popup-pagination"),s=document.querySelector(".slider-popup-button__prev"),r=document.querySelector(".slider-popup-button__next"),c=document.querySelector(".popup__wrapper"),i=window.getComputedStyle(c).width,d=document.querySelector(".popup__inner");d.style.width=100*n.length+"%",d.style.display="flex",c.style.overflow="hidden",n.forEach((e=>{e.style.width=i})),o.style.position="relative";const a=document.createElement("ol"),u=[];a.classList.add("popup__pagination"),a.style.cssText="\n        display: flex;\n        justify-content: center;\n        margin-right: 15%;\n        margin-left: 15%;\n        list-style: none;\n    ",l.append(a);for(let e=0;e<n.length;e++){const t=document.createElement("li");t.setAttribute("data-slide-to",e+1),t.style.cssText="\n            box-sizing: content-box;\n            flex: 0 1 auto;\n            width: 10px;\n            height: 10px;\n            border-radius: 50%;\n            margin-right: 3px;\n            margin-left: 3px;\n            cursor: pointer;\n            background: none;\n            border: 1px solid #000;\n            background-clip: padding-box;\n            transition: all 0.3s ease;\n        ",0==e&&(t.style.background="#fc6da9",t.style.border="1px solid #fc6da9"),a.append(t),u.push(t)}r.addEventListener("click",(()=>{e==+i.slice(0,i.length-2)*(n.length-1)?e=0:e+=+i.slice(0,i.length-2),d.style.transform=`translateX(-${e}px)`,t==n.length?t=1:t++,u.forEach((e=>{e.style.background="none",e.style.border="1px solid #000"})),u[t-1].style.background="#fc6da9",u[t-1].style.border="1px solid #fc6da9"})),s.addEventListener("click",(()=>{0==e?e=+i.slice(0,i.length-2)*(n.length-1):e-=+i.slice(0,i.length-2),d.style.transform=`translateX(-${e}px)`,1==t?t=n.length:t--,u.forEach((e=>{e.style.background="none",e.style.border="1px solid #000"})),u[t-1].style.background="#fc6da9",u[t-1].style.border="1px solid #fc6da9"})),u.forEach((n=>{n.addEventListener("click",(n=>{const o=n.target.getAttribute("data-slide-to");t=o,e=+i.slice(0,i.length-2)*(o-1),d.style.transform=`translateX(-${e}px)`,u.forEach((e=>{e.style.background="none",e.style.border="1px solid #000"})),u[t-1].style.background="#fc6da9",u[t-1].style.border="1px solid #fc6da9"}))}))}}));const m=new IntersectionObserver((function(e,t){e.forEach((e=>{e.isIntersecting&&1==e.intersectionRatio?h.forEach((e=>{e.classList.add("_active")})):h.forEach((e=>{e.classList.remove("_active")}))}))}),{threshold:1}),h=document.querySelectorAll(".textblock__bg");document.querySelectorAll(".body-textblock__text").forEach((e=>{m.observe(e)}))})();